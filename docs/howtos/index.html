<!DOCTYPE html>
<html lang="en-us" class="bg-white dark:bg-gray-700 font-display text-black dark:text-white"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>Qbs</title>
    <meta name="description" content="Qbs Manual How-tos Qbs 2.0.1 Custom Modules and Items Reference  Contents  How do I build a Qt-based project? How do I make my app build against my library? Choosing Between Dynamic and Statically-built Qt Projects How do I build release with debug information? How do I separate and install debugging symbols? How do I use precompiled headers? How do I make use of rpaths? How do I make sure my generated sources are getting compiled? ">
    <link rel="canonical" href="https://qbs.io/docs/howtos/" />

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    

    
      
      <link rel="stylesheet" href="/css/main.min.7d27557bc1f8660bf0e026622019467fd286c7d3eb71497bb1bf1eb961a1697a.css" integrity="sha256-fSdVe8H4Zgvw4CZiIBlGf9KGx9PrcUl7sb8euWGhaXo="/>
    

    <meta property="og:title" content="" />
<meta property="og:description" content="Qbs Manual How-tos Qbs 2.0.1 Custom Modules and Items Reference  Contents  How do I build a Qt-based project? How do I make my app build against my library? Choosing Between Dynamic and Statically-built Qt Projects How do I build release with debug information? How do I separate and install debugging symbols? How do I use precompiled headers? How do I make use of rpaths? How do I make sure my generated sources are getting compiled?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://qbs.io/docs/howtos/" /><meta property="article:section" content="docs" />




    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Qbs Manual How-tos Qbs 2.0.1 Custom Modules and Items Reference  Contents  How do I build a Qt-based project? How do I make my app build against my library? Choosing Between Dynamic and Statically-built Qt Projects How do I build release with debug information? How do I separate and install debugging symbols? How do I use precompiled headers? How do I make use of rpaths? How do I make sure my generated sources are getting compiled?"/>

</head>
<body><header class="sticky flex flex-col md:flex-row items-center justify-between top-0 left-0 right-0 bg-white dark:bg-gray-700 dark:border-gray-800 p-4 border-b z-10">
    <a class="flex items-center" href="/">
        <img src="https://qbs.io/img/Cubes.svg" class="h-10 effect-shadow-small">
        <h1 class="font-medium pl-2 text-2xl">Qbs</h1>
    </a>

    <div>
        
        <a href="/blog" class="ml-2">
            <span>Blog</span>
        </a>
        
        <a href="/docs" class="ml-2">
            <span>Documentation</span>
        </a>
        
        <a href="/docs/installing/" class="ml-2">
            <span>Get Qbs</span>
        </a>
        
    </div>
</header><main>
<div class="centre-outer">
    <article class="centre-inner docs">
    
<li><a href="https://qbs.io
/docs">Qbs Manual</a></li>
<li>How-tos</li>
<li id="buildversion">Qbs 2.0.1</li>
  <link rel="prev" href="https://qbs.io
/docs/custom-modules/">
  <link rel="next" href="https://qbs.io
/docs/reference/">
<p class="naviNextPrevious headerNavi">
<a class="prevPage" href="https://qbs.io
/docs/custom-modules/">Custom Modules and Items</a>
<a class="nextPage" href="https://qbs.io
/docs/reference/">Reference</a>
</p><p>
</p><div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#how-do-i-build-a-qt-based-project">How do I build a Qt-based project?</a></li>
<li class="level1"><a href="#how-do-i-make-my-app-build-against-my-library">How do I make my app build against my library?</a></li>
<li class="level2"><a href="#choosing-between-dynamic-and-statically-built-qt-projects">Choosing Between Dynamic and Statically-built Qt Projects</a></li>
<li class="level1"><a href="#how-do-i-build-release-with-debug-information">How do I build release with debug information?</a></li>
<li class="level1"><a href="#how-do-i-separate-and-install-debugging-symbols">How do I separate and install debugging symbols?</a></li>
<li class="level1"><a href="#how-do-i-use-precompiled-headers">How do I use precompiled headers?</a></li>
<li class="level1"><a href="#how-do-i-make-use-of-rpaths">How do I make use of rpaths?</a></li>
<li class="level1"><a href="#how-do-i-make-sure-my-generated-sources-are-getting-compiled">How do I make sure my generated sources are getting compiled?</a></li>
<li class="level1"><a href="#how-do-i-run-my-autotests">How do I run my autotests?</a></li>
<li class="level1"><a href="#how-do-i-use-ccache">How do I use ccache?</a></li>
<li class="level1"><a href="#how-do-i-create-a-module-for-a-third-party-library">How do I create a module for a third-party library?</a></li>
<li class="level1"><a href="#how-do-i-create-application-bundles-and-frameworks-on-ios-macos-tvos-and-watchos">How do I create application bundles and frameworks on iOS, macOS, tvOS, and watchOS?</a></li>
<li class="level1"><a href="#how-do-i-build-against-libraries-that-provide-pkg-config-files">How do I build against libraries that provide pkg-config files?</a></li>
<li class="level1"><a href="#how-do-i-apply-c-c-preprocessor-macros-to-only-a-subset-of-the-files-in-my-product">How do I apply C/C++ preprocessor macros to only a subset of the files in my product?</a></li>
<li class="level1"><a href="#how-do-i-disable-a-compiler-warning">How do I disable a compiler warning?</a></li>
<li class="level1"><a href="#how-do-i-make-the-state-of-my-git-repository-available-to-my-source-files">How do I make the state of my Git repository available to my source files?</a></li>
<li class="level1"><a href="#how-do-i-limit-the-number-of-concurrent-jobs-for-the-linker-only">How do I limit the number of concurrent jobs for the linker only?</a></li>
<li class="level1"><a href="#how-do-i-add-qml-files-to-a-project">How do I add QML files to a project?</a></li>
<li class="level1"><a href="#how-do-i-define-a-reusable-group-of-files-that-can-be-included-in-other-qbs-files">How do I define a reusable Group of files that can be included in other Qbs files?</a></li>
<li class="level1"><a href="#how-do-i-access-properties-of-a-base-type">How do I access properties of a base type?</a></li>
<li class="level1"><a href="#how-do-i-print-the-value-of-a-property">How do I print the value of a property?</a></li>
<li class="level1"><a href="#how-do-i-debug-qbs-scripts">How do I debug Qbs scripts?</a></li>
<li class="level1"><a href="#how-do-i-sign-an-application-for-an-apple-platform">How do I sign an application for an Apple platform?</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<div class="content"><h1 class="title">How-tos</h1>
<span class="subtitle"></span>
<!-- $$$howtos.html-description -->
<div class="descr"> <a name="details"></a>
<p>This page provides concrete instructions for common scenarios.</p>
<ul>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-build-a-qt-based-project">How do I build a Qt-based project?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-make-my-app-build-against-my-library">How do I make my app build against my library?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-build-release-with-debug-information">How do I build release with debug information?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-separate-and-install-debugging-symbols">How do I separate and install debugging symbols?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-use-precompiled-headers">How do I use precompiled headers?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-make-use-of-rpaths">How do I make use of rpaths?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-make-sure-my-generated-sources-are-getting-compiled">How do I make sure my generated sources are getting compiled?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-run-my-autotests">How do I run my autotests?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-use-ccache">How do I use ccache?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-create-a-module-for-a-third-party-library">How do I create a module for a third-party library?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-build-against-libraries-that-provide-pkg-config-files">How do I build against libraries that provide pkg-config files?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-create-application-bundles-and-frameworks-on-ios-macos-tvos-and-watchos">How do I create application bundles and frameworks on iOS, macOS, tvOS, and watchOS?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-apply-c-c-preprocessor-macros-to-only-a-subset-of-the-files-in-my-product">How do I apply C/C++ preprocessor macros to only a subset of the files in my product?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-disable-a-compiler-warning">How do I disable a compiler warning?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-make-the-state-of-my-git-repository-available-to-my-source-files">How do I make the state of my Git repository available to my source files?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-limit-the-number-of-concurrent-jobs-for-the-linker-only">How do I limit the number of concurrent jobs for the linker only?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-add-qml-files-to-a-project">How do I add QML files to a project?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-define-a-reusable-group-of-files-that-can-be-included-in-other-qbs-files">How do I define a reusable Group of files that can be included in other Qbs files?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-access-properties-of-a-base-type">How do I access properties of a base type?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-print-the-value-of-a-property">How do I print the value of a property?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-debug-qbs-scripts">How do I debug Qbs scripts?</a></li>
<li><a href="https://qbs.io
/docs/howtos/#how-do-i-sign-an-application-for-an-apple-platform">How do I sign an application for an Apple platform?</a></li>
</ul>
<a name="how-do-i-build-a-qt-based-project"></a>
<h2 id="how-do-i-build-a-qt-based-project">How do I build a Qt-based project?</h2>
<p>First of all, your project files need to declare <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/">dependencies</a> on <a href="https://qbs.io
/docs/porting-to-qbs/#qt">Qt</a> modules.</p>
<p>To build the project, you need a matching <i>profile</i>. The following commands set up and use a Qt-specific profile:</p>
<pre class="cpp">$ qbs setup<span class="operator">-</span>qt <span class="operator">/</span>usr<span class="operator">/</span>bin<span class="operator">/</span>qmake qt
$ cd my_project
$ qbs profile:qt</pre>
<p>If you plan to use this profile a lot, consider making it the default one:</p>
<pre class="cpp">$ qbs config defaultProfile qt
$ cd my_project
$ qbs</pre>
<p>See <a href="https://qbs.io
/docs/qt-versions/">Managing Qt Versions</a> for more details.</p>
<div class="admonition note">
<p><b>Note: </b>These instructions are only relevant for building from the command line. If you use Qt Creator, profiles are set up automatically from the information in the Kit.</p>
</div>
<a name="how-do-i-make-my-app-build-against-my-library"></a>
<h2 id="how-do-i-make-my-app-build-against-my-library">How do I make my app build against my library?</h2>
<p>This is achieved by introducing a <i>dependency</i> between the two products using the <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/">Depends</a> item. Here is a simple, but complete example:</p>
<pre class="cpp">Project {
    CppApplication {
        name : <span class="string">"the-app"</span>
        files : <span class="operator">[</span> <span class="string">"main.cpp"</span> <span class="operator">]</span>
        Depends { name: <span class="string">"the-lib"</span> }
    }
    DynamicLibrary {
        name: <span class="string">"the-lib"</span>
        Depends { name: <span class="string">"cpp"</span> }
        files: <span class="operator">[</span>
            <span class="string">"lib.cpp"</span><span class="operator">,</span>
            <span class="string">"lib.h"</span><span class="operator">,</span>
        <span class="operator">]</span>
        Export {
            Depends { name: <span class="string">"cpp"</span> }
            cpp<span class="operator">.</span>includePaths: <span class="operator">[</span>exportingProduct<span class="operator">.</span>sourceDirectory<span class="operator">]</span>
       }
    }
}</pre>
<p>The product <code>the-lib</code> is a dynamic library. It expects other products to build against it, and for that purpose, it exports an include path (via an <a href="https://qbs.io
/docs/qml-qbslanguageitems-export/">Export</a> item), so that the source files in these products can include the library's header file.</p>
<p>The product <code>the-app</code> is an application that expresses its intent to link against <code>the-lib</code> by declaring a dependency on it. Now <code>main.cpp</code> can include <code>lib.h</code> (because of the exported include path) and the application binary will link against the library (because the linker <a href="https://qbs.io
/docs/qml-qbslanguageitems-rule/">rule</a> in the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/">cpp</a> module considers library dependencies as inputs).</p>
<div class="admonition note">
<p><b>Note: </b>In a non-trivial project, the two products would not be defined in the same file. Instead, you would put them into files of their own and use the <a href="https://qbs.io
/docs/qml-qbslanguageitems-project/#references-prop">Project.references</a> property to pull them into the project. The product definitions would stay exactly the same. In particular, their location in the project tree is irrelevant to the relationship between them.</p>
</div>
<a name="choosing-between-dynamic-and-statically-built-qt-projects"></a>
<h3 id="choosing-between-dynamic-and-statically-built-qt-projects">Choosing Between Dynamic and Statically-built Qt Projects</h3>
<p>To build <code>"the-lib"</code> as either a dynamic or static library, depending on how Qt was built, you can use the following code:</p>
<pre class="cpp">Product {
    name: <span class="string">"the-lib"</span>
    type: <span class="type"><a href="https://qbs.io
/docs/qml-qbsmoduleproviders-qt/">Qt</a></span><span class="operator">.</span>core<span class="operator">.</span>staticBuild <span class="operator">?</span> <span class="string">"staticlibrary"</span> : <span class="string">"dynamiclibrary"</span>

    Depends { name: <span class="string">"Qt.core"</span> }
    <span class="comment">// ...</span>
}</pre>
<a name="how-do-i-build-release-with-debug-information"></a>
<h2 id="how-do-i-build-release-with-debug-information">How do I build release with debug information?</h2>
<p>You can simply use the <code>"profiling"</code> <a href="https://qbs.io
/docs/qml-qbsmodules-qbs/#buildVariant-prop">qbs.buildVariant</a>:</p>
<pre class="cpp">qbs build qbs<span class="operator">.</span>buildVariant:profiling</pre>
<a name="how-do-i-separate-and-install-debugging-symbols"></a>
<h2 id="how-do-i-separate-and-install-debugging-symbols">How do I separate and install debugging symbols?</h2>
<p>First, you need to set the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#debugInformation-prop">cpp.debugInformation</a> and <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#separateDebugInformation-prop">cpp.separateDebugInformation</a> properties to <code>true</code> or use some conditional expression in your product:</p>
<pre class="cpp">CppApplication {
    <span class="comment">// ...</span>
    cpp<span class="operator">.</span>debugInformation: qbs<span class="operator">.</span>buildVariant <span class="operator">!</span><span class="operator">=</span><span class="operator">=</span> <span class="string">"release"</span>
    cpp<span class="operator">.</span>separateDebugInformation: <span class="keyword">true</span>
}</pre>
<p>Now, you can install your <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-application/">application</a>, <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-dynamiclibrary/">dynamic library</a> or <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-loadablemodule/">loadable module</a> among with its debugging symbols as follows:</p>
<pre class="cpp">CppApplication {
    <span class="comment">// ...</span>
    install: <span class="keyword">true</span>
    installDir: <span class="string">"bin"</span>
    installDebugInformation: <span class="keyword">true</span>
    debugInformationInstallDir: <span class="string">"bin"</span>
}</pre>
<p>If you are not using <a href="https://qbs.io
/docs/qbsconvenienceitems-qmlmodule/">convenience items</a>, you can install debug symbols manually using the <a href="https://qbs.io
/docs/qml-qbslanguageitems-group/">Group</a> item. If the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#separateDebugInformation-prop">cpp.separateDebugInformation</a> property is set to <code>true</code>, Qbs will create debugging symbols with the corresponding file tags <code>"debuginfo_app"</code> (for an application), <code>"debuginfo_dll"</code> (for a dynamic library), or <code>"debuginfo_loadablemodule"</code> (for a macOS plugin).</p>
<pre class="cpp">Product {
    type: <span class="string">"application"</span>
    Depends { name: <span class="string">"cpp"</span> }
    cpp<span class="operator">.</span>debugInformation: qbs<span class="operator">.</span>buildVariant <span class="operator">!</span><span class="operator">=</span><span class="operator">=</span> <span class="string">"release"</span>
    cpp<span class="operator">.</span>separateDebugInformation: <span class="keyword">true</span>
    Group {
        fileTagsFilter: cpp<span class="operator">.</span>separateDebugInformation <span class="operator">?</span> <span class="operator">[</span><span class="string">"debuginfo_app"</span><span class="operator">]</span> : <span class="operator">[</span><span class="operator">]</span>
        qbs<span class="operator">.</span>install: <span class="keyword">true</span>
        qbs<span class="operator">.</span>installDir: <span class="string">"bin"</span>
        qbs<span class="operator">.</span>installSourceBase: buildDirectory
    }
}</pre>
<p>If you're building a shared library, you need to use the <code>"debuginfo_dll"</code> tag instead:</p>
<pre class="cpp">Product {
    type: <span class="string">"dynamic_library"</span>
    <span class="comment">// ...</span>
    Group {
        fileTagsFilter: cpp<span class="operator">.</span>separateDebugInformation <span class="operator">?</span> <span class="operator">[</span><span class="string">"debuginfo_dll"</span><span class="operator">]</span> : <span class="operator">[</span><span class="operator">]</span>
        qbs<span class="operator">.</span>install: <span class="keyword">true</span>
        qbs<span class="operator">.</span>installDir: <span class="string">"lib"</span>
        qbs<span class="operator">.</span>installSourceBase: buildDirectory
    }
}</pre>
<p>If you're building a macOS plugin, you need to use the <code>"debuginfo_loadablemodule"</code> tag instead:</p>
<pre class="cpp">Product {
    type: <span class="string">"loadablemodule"</span>
    <span class="comment">// ...</span>
    Group {
        fileTagsFilter: cpp<span class="operator">.</span>separateDebugInformation <span class="operator">?</span> <span class="operator">[</span><span class="string">"debuginfo_loadablemodule"</span><span class="operator">]</span> : <span class="operator">[</span><span class="operator">]</span>
        qbs<span class="operator">.</span>install: <span class="keyword">true</span>
        qbs<span class="operator">.</span>installDir: <span class="string">"PlugIns"</span>
        qbs<span class="operator">.</span>installSourceBase: buildDirectory
    }
}</pre>
<a name="how-do-i-use-precompiled-headers"></a>
<h2 id="how-do-i-use-precompiled-headers">How do I use precompiled headers?</h2>
<p>If you use a <a href="https://qbs.io
/docs/qml-qbslanguageitems-group/">Group</a> item to add a precompiled header file to a product and mark it with the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#filetags-cpp">relevant file tag</a> (<code>c_pch_src</code>, <code>cpp_pch_src</code>, <code>objc_pch_src</code>, or <code>objcpp_pch_src</code>), it is used automatically.</p>
<p>Only one precompiled header is allowed per product and language.</p>
<p>For example:</p>
<pre class="cpp">CppApplication {
    name: <span class="string">"the-app"</span>
    files: <span class="operator">[</span><span class="string">"main.cpp"</span><span class="operator">]</span>

    Group {
        files: <span class="operator">[</span><span class="string">"precompiled-header.pch"</span><span class="operator">]</span>
        fileTags: <span class="operator">[</span><span class="string">"cpp_pch_src"</span><span class="operator">]</span>
    }
}</pre>
<a name="how-do-i-make-use-of-rpaths"></a>
<h2 id="how-do-i-make-use-of-rpaths">How do I make use of rpaths?</h2>
<p>rpath designates the run-time search path used by the dynamic linker when loading libraries on UNIX platforms. This concept does not apply to Windows.</p>
<p>Suppose you have a project with two dynamic library products <code>LibraryA</code> and <code>LibraryB</code> and one dependent application product. Also, <code>LibraryB</code> depends on <code>LibraryA</code>. The application is installed to the <code>bin</code> folder and the libraries are installed to the <code>lib</code> folder next to the <code>bin</code> folder. You want the application to be able to find the dependent libraries relative to its own location. This can be achieved by usage of the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#rpaths-prop">cpp.rpaths</a> property.</p>
<p>First, you need to set <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#rpaths-prop">cpp.rpaths</a> in your libraries so they can find dependent libraries in the same folder where they are located. This can be done as follows:</p>
<pre class="cpp">DynamicLibrary {
    Depends { name: "cpp" }
    Depends { name: "bundle" }
    name: "LibraryA"
    bundle.isBundle: false
    cpp.sonamePrefix: qbs.targetOS.contains("macos") ? "@rpath" : undefined
    cpp.rpaths: cpp.rpathOrigin
    cpp.cxxLanguageVersion: "c++11"
    cpp.minimumMacosVersion: "10.8"
    files: [
        "objecta.cpp",
        "objecta.h",
    ]
    install: true
    installDir: "examples/lib"
}</pre>
<p>We are setting <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#rpaths-prop">cpp.rpaths</a> to <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#rpathOrigin-prop">cpp.rpathOrigin</a> which expands to <code>"$ORIGIN"</code> on Linux and to <code>"@loader_path"</code> on macOS.</p>
<p>On macOS you also need to set <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#sonamePrefix-prop">cpp.sonamePrefix</a> to <code>"@rpath"</code> to tell the dynamic linker to use RPATHs when loading this library.</p>
<p><code>LibraryB</code> looks exactly the same:</p>
<pre class="cpp">DynamicLibrary {
    Depends { name: "cpp" }
    Depends { name: "bundle" }
    Depends { name: "LibraryA" }
    name: "LibraryB"
    bundle.isBundle: false
    cpp.cxxLanguageVersion: "c++11"
    cpp.minimumMacosVersion: "10.8"
    cpp.sonamePrefix: qbs.targetOS.contains("macos") ? "@rpath" : undefined
    cpp.rpaths: cpp.rpathOrigin
    files: [
        "objectb.cpp",
        "objectb.h",
    ]
    install: true
    installDir: "examples/lib"
}</pre>
<p>In a real project, it might be a good idea to move common properties to some base item and inherit it in library items.</p>
<p>The application item is a bit different. It sets <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#rpaths-prop">cpp.rpaths</a> to the <code>"lib"</code> folder which is located one level up from the <code>bin</code> folder:</p>
<pre class="cpp">CppApplication {
    Depends { name: "bundle" }
    Depends { name: "LibraryA" }
    Depends { name: "LibraryB" }
    name: "rpaths-app"
    files: "main.cpp"
    consoleApplication: true
    bundle.isBundle: false
    cpp.rpaths: FileInfo.joinPaths(cpp.rpathOrigin, "..", "lib")
    cpp.cxxLanguageVersion: "c++11"
    cpp.minimumMacosVersion: "10.8"
    install: true
    installDir: "examples/bin"
}</pre>
<a name="how-do-i-make-sure-my-generated-sources-are-getting-compiled"></a>
<h2 id="how-do-i-make-sure-my-generated-sources-are-getting-compiled">How do I make sure my generated sources are getting compiled?</h2>
<p>The rules in a Qbs project do not care whether its inputs are actual source files listed on the right-hand side of a <a href="https://qbs.io
/docs/qml-qbslanguageitems-product/#files-prop">files</a> property or artifacts that were generated by another rule. For instance, the C++ compiler rule considers all input files of type "cpp", no matter how they got into the product. The following example project demonstrates this. One of its source files exists in the repository, the other one is generated at build time. Both are getting compiled the same way.</p>
<div class="admonition note">
<p><b>Note: </b>Do not try to add the generated files to a <code>files</code> property. Declaring them as rule outputs is all that is needed to make Qbs know about them.</p>
</div>
<pre class="cpp">import qbs<span class="operator">.</span>TextFile
CppApplication {
    files: <span class="operator">[</span><span class="string">"impl.cpp"</span><span class="operator">,</span> <span class="string">"impl.h"</span><span class="operator">]</span>
    cpp<span class="operator">.</span>includePaths: sourceDirectory
    Rule {
        multiplex: <span class="keyword">true</span>
        Artifact { filePath: <span class="string">"main.cpp"</span>; fileTags: <span class="string">"cpp"</span> }
        prepare: {
            var cmd <span class="operator">=</span> <span class="keyword">new</span> JavaScriptCommand();
            cmd<span class="operator">.</span>description <span class="operator">=</span> <span class="string">"generating "</span> <span class="operator">+</span> output<span class="operator">.</span>fileName;
            cmd<span class="operator">.</span>sourceCode <span class="operator">=</span> function() {
                var f <span class="operator">=</span> <span class="keyword">new</span> TextFile(output<span class="operator">.</span>filePath<span class="operator">,</span> TextFile<span class="operator">.</span>WriteOnly);
                f<span class="operator">.</span>writeLine(<span class="string">"#include &lt;impl.h&gt;"</span>);
                f<span class="operator">.</span>writeLine(<span class="string">"int main()"</span>);
                f<span class="operator">.</span>writeLine(<span class="string">"{"</span>);
                f<span class="operator">.</span>writeLine(<span class="string">"    return functionFromImpl();"</span>);
                f<span class="operator">.</span>writeLine(<span class="string">"}"</span>);
                f<span class="operator">.</span>close();
            };
            <span class="keyword">return</span> cmd;
        }
    }
}</pre>
<a name="how-do-i-run-my-autotests"></a>
<h2 id="how-do-i-run-my-autotests">How do I run my autotests?</h2>
<p>There are two simple things you need to do in your project. Firstly, you mark your test executables as such. This is done by adding the tag <code>"autotest"</code> to the product type:</p>
<pre class="cpp">CppApplication {
    name: <span class="string">"test1"</span>
    type: base<span class="operator">.</span>concat(<span class="string">"autotest"</span>)
    <span class="comment">// ...</span>
}</pre>
<p>The second step is to instantiate an <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-autotestrunner/">AutotestRunner</a> product in your project:</p>
<pre class="cpp">Project {
    <span class="comment">// ...</span>
    AutotestRunner { name: <span class="string">"run_my_tests"</span> }
}</pre>
<p>Building an <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-autotestrunner/">AutotestRunner</a> product does not produce artifacts, but triggers execution of all applications whose products are tagged as autotests:</p>
<pre class="cpp">$ qbs <span class="operator">-</span>p run_my_tests
test1: PASS
test2: PASS
test3: FAIL
<span class="operator">.</span><span class="operator">.</span><span class="operator">.</span></pre>
<p>See the <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-autotestrunner/">AutotestRunner documentation</a> for how to fine-tune the behavior.</p>
<a name="how-do-i-use-ccache"></a>
<h2 id="how-do-i-use-ccache">How do I use ccache?</h2>
<p><a href="https://ccache.samba.org/">ccache</a> is a popular C/C++ compiler cache on Unix to speed up compiling the same content multiple times.</p>
<p>Qbs excels at tracking dependencies and avoiding needless recompilations, so for linear development of one project and configuration using ccache has little benefit. But if you switch between revisions of a project, or build the same project with different configurations, a global cache like ccache can speed up compilations significantly.</p>
<p>ccache can be used by setting up symbolic links to compiler executables (such as <code>g++</code>, <code>gcc</code>) in the file system. In this setup, the use of ccache is transparent to Qbs. If you prefer to call ccache explicitly, you should set <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#compilerWrapper-prop">cpp.compilerWrapper</a> to <code>ccache</code>.</p>
<div class="admonition note">
<p><b>Note: </b>Using precompiled headers might prevent ccache from actually using cached results. To work around this, you can set <code>sloppiness=pch_defines,time_macros</code> in your local ccache options. See the <a href="https://ccache.samba.org/manual.html#_precompiled_headers">ccache documentation about precompiled headers</a> for further details.</p>
</div>
<a name="how-do-i-create-a-module-for-a-third-party-library"></a>
<h2 id="how-do-i-create-a-module-for-a-third-party-library">How do I create a module for a third-party library?</h2>
<p>If you have pre-built binary files in your source tree, you can create modules for them and then introduce dependencies between your project and the modules to pull in the functionality of a third-party library.</p>
<p>Create the following folder structure to store the module files:</p>
<pre class="cpp">$projectroot<span class="operator">/</span>modules<span class="operator">/</span>ThirdParty</pre>
<p>Then create a file in the directory that specifies the module properties for each supported toolchain. The filename must have the <code>.qbs</code> extension. The module will be pulled in if a product declares a dependency on it.</p>
<p>In the following example, <code>lib1.dylib</code> is a multi-architecture library containing both 32-bit and 64-bit code.</p>
<pre class="cpp"><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span>ThirdParty<span class="operator">.</span>qbs<span class="operator">-</span><span class="operator">-</span><span class="operator">-</span>

Module {
    Depends { name: <span class="string">"cpp"</span> }
    cpp<span class="operator">.</span>includePaths: <span class="operator">[</span><span class="string">"/somewhere/include"</span><span class="operator">]</span>
    Properties {
        condition: qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"android"</span>)
        cpp<span class="operator">.</span>dynamicLibraries: <span class="operator">[</span><span class="string">"/somewhere/android/"</span> <span class="operator">+</span> Android<span class="operator">.</span>ndk<span class="operator">.</span>abi <span class="operator">+</span> <span class="string">"/lib1.so"</span><span class="operator">]</span>
    }
    Properties {
        condition: qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"macos"</span>)
        cpp<span class="operator">.</span>dynamicLibraries: <span class="operator">[</span><span class="string">"/somewhere/macos/lib1.dylib"</span><span class="operator">]</span>
    }
    Properties {
        condition: qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"windows"</span>) <span class="operator">&amp;</span><span class="operator">&amp;</span> qbs<span class="operator">.</span>architecture <span class="operator">=</span><span class="operator">=</span><span class="operator">=</span> <span class="string">"x86"</span>
        cpp<span class="operator">.</span>dynamicLibraries: <span class="operator">[</span><span class="string">"/somewhere/windows_x86/lib1.lib"</span><span class="operator">]</span>
    }
    Properties {
        condition: qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"windows"</span>) <span class="operator">&amp;</span><span class="operator">&amp;</span> qbs<span class="operator">.</span>architecture <span class="operator">=</span><span class="operator">=</span><span class="operator">=</span> <span class="string">"x86_64"</span>
        cpp<span class="operator">.</span>dynamicLibraries: <span class="operator">[</span><span class="string">"/somewhere/windows_x86_64/lib1.lib"</span><span class="operator">]</span>
    }
}</pre>
<p>Finally, declare dependencies on <code>ThirdParty</code> in your project:</p>
<pre class="cpp">CppApplication {
    name: <span class="string">"the-app"</span>
    files: <span class="operator">[</span><span class="string">"main.cpp"</span><span class="operator">]</span>
    Depends { name: <span class="string">"ThirdParty"</span> }
}</pre>
<a name="how-do-i-create-application-bundles-and-frameworks-on-ios-macos-tvos-and-watchos"></a>
<h2 id="how-do-i-create-application-bundles-and-frameworks-on-ios-macos-tvos-and-watchos">How do I create application bundles and frameworks on iOS, macOS, tvOS, and watchOS?</h2>
<p>Creating an application bundle or framework is achieved by introducing a dependency on the <a href="https://qbs.io
/docs/qml-qbsmodules-bundle/">bundle</a> module and setting the <a href="https://qbs.io
/docs/qml-qbsmodules-bundle/#isBundle-prop">bundle.isBundle</a> property to <code>true</code>.</p>
<p>Here is a simple example for an application:</p>
<pre class="cpp">Application {
    Depends { name: <span class="string">"cpp"</span> }
    Depends { name: <span class="string">"bundle"</span> }
    bundle<span class="operator">.</span>isBundle: <span class="keyword">true</span>
    name: <span class="string">"the-app"</span>
    files: <span class="operator">[</span><span class="string">"main.cpp"</span><span class="operator">]</span>
}</pre>
<p>and for a framework:</p>
<pre class="cpp">DynamicLibrary {
    Depends { name: <span class="string">"cpp"</span> }
    Depends { name: <span class="string">"bundle"</span> }
    bundle<span class="operator">.</span>isBundle: <span class="keyword">true</span>
    name: <span class="string">"the-lib"</span>
    files: <span class="operator">[</span><span class="string">"lib.cpp"</span><span class="operator">,</span> <span class="string">"lib.h"</span><span class="operator">]</span>
}</pre>
<p>Qbs also supports building static frameworks. You can create one by replacing the <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-dynamiclibrary/">DynamicLibrary</a> item with a <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-staticlibrary/">StaticLibrary</a> item in the example above.</p>
<div class="admonition note">
<p><b>Note: </b>When using the <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-application/">Application</a> item (or convenience items, such as <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-cppapplication/">CppApplication</a>, <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-dynamiclibrary/">DynamicLibrary</a>, and <a href="https://qbs.io
/docs/qml-qbsconvenienceitems-staticlibrary/">StaticLibrary</a>), your products will be built as bundles on Apple platforms by default (this behavior is subject to change in a future release).</p>
</div>
<p>To explicitly control whether your product is built as a bundle, set the <code>bundle.isBundle</code> property. Setting the <a href="https://qbs.io
/docs/qml-qbslanguageitems-product/#consoleApplication-prop">consoleApplication</a> property of your product will also influence whether your product is built as a bundle.</p>
<p>Building your application against your framework is the same as linking a normal dynamic or static library; see the <a href="https://qbs.io
/docs/howtos/#how-do-i-make-my-app-build-against-my-library">How do I make my app build against my library?</a> section for an example.</p>
<a name="how-do-i-build-against-libraries-that-provide-pkg-config-files"></a>
<h2 id="how-do-i-build-against-libraries-that-provide-pkg-config-files">How do I build against libraries that provide pkg-config files?</h2>
<p>Just add a <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/">Depends</a> item that matches the name of the pkg-config module, and Qbs will automatically employ <a href="https://www.freedesktop.org/wiki/Software/pkg-config">pkg-config</a> to find the headers and libraries if no matching Qbs module can be found. For instance, to build against the OpenSSL library, you would write this:</p>
<pre class="cpp">Depends { name: <span class="string">"openssl"</span> }</pre>
<p>That's it. The pkg-config behavior can be fine-tuned via the <a href="https://qbs.io
/docs/qml-qbsmodules-pkgconfig/">pkgconfig</a> module, but normally you will not need to pull it in explicitly.</p>
<p>Internally, this functionality is implemented via <a href="https://qbs.io
/docs/module-providers/">Module Providers</a></p>
<a name="how-do-i-apply-c-c-preprocessor-macros-to-only-a-subset-of-the-files-in-my-product"></a>
<h2 id="how-do-i-apply-c-c-preprocessor-macros-to-only-a-subset-of-the-files-in-my-product">How do I apply C/C++ preprocessor macros to only a subset of the files in my product?</h2>
<p>Use a <a href="https://qbs.io
/docs/qml-qbslanguageitems-group/">Group</a> item to define a subset of project files. To add macros within the group, you need to use the <code>outer.concat</code> property, because you are adding macros to those specified in the outer scope.</p>
<p>In the following example, <code>MACRO_EVERYWHERE</code> is defined for all files in the <a href="https://qbs.io
/docs/qml-qbslanguageitems-product/">Product</a> unless a Group overrides the macro, whereas <code>MACRO_GROUP</code> is only defined for <code>groupFile.cpp</code>.</p>
<pre class="cpp">Product {
    Depends { name: <span class="string">"cpp"</span> }
    cpp<span class="operator">.</span>defines: <span class="operator">[</span><span class="string">"MACRO_EVERYWHERE"</span><span class="operator">]</span>
    Group {
        cpp<span class="operator">.</span>defines: outer<span class="operator">.</span>concat(<span class="string">"MACRO_GROUP"</span>)
        files: <span class="string">"groupFile.cpp"</span>
    }
}</pre>
<p>The <code>cpp.defines</code> statements inside a <code>Group</code> only apply to the files in that <code>Group</code>, and therefore you cannot use a <code>Group</code> to include a bunch of files and globally visible macros. The macros must be specified in a <a href="https://qbs.io
/docs/commands/#properties">Properties</a> item at the same level as the <code>Group</code> if they need to be visible to files outside the <code>Group</code>:</p>
<pre class="cpp">Product {
    Depends { name: <span class="string">"cpp"</span> }
    Group {
        condition: project<span class="operator">.</span>supportMyFeature
        files: <span class="string">"myFile.cpp"</span>
    }

    property stringList commonDefines: <span class="operator">[</span><span class="string">"ONE"</span><span class="operator">,</span> <span class="string">"TWO"</span><span class="operator">]</span>

    Properties {
        condition: project<span class="operator">.</span>supportMyFeature
        cpp<span class="operator">.</span>defines: commonDefines<span class="operator">.</span>concat(<span class="string">"MYFEATURE_SUPPORTED"</span>)
    }
}</pre>
<a name="how-do-i-disable-a-compiler-warning"></a>
<h2 id="how-do-i-disable-a-compiler-warning">How do I disable a compiler warning?</h2>
<p>You can use the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#commonCompilerFlags-prop">cpp.commonCompilerFlags</a> property to pass flags to the compiler. For example, to disable deprecation warnings:</p>
<pre class="cpp">CppApplication {
    <span class="comment">// ...</span>

    readonly property bool isMsvc: qbs<span class="operator">.</span>toolchain<span class="operator">.</span>includes(<span class="string">"msvc"</span>)

    cpp<span class="operator">.</span>commonCompilerFlags: isMsvc <span class="operator">?</span> <span class="string">"/wd4996"</span> : <span class="string">"-Wno-deprecated-declarations"</span>
}</pre>
<p>It is also possible to disable all warnings at once by setting the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#commonCompilerFlags-prop">cpp.warningLevel</a> property to <code>"none"</code>. Usually this approach is discouraged, but it can be useful in some cases, such as when compiling third party code:</p>
<pre class="cpp">Group {
    cpp<span class="operator">.</span>warningLevel: <span class="string">"none"</span>

    files: <span class="operator">[</span>
        <span class="string">"3rdparty.h"</span><span class="operator">,</span>
        <span class="string">"3rdparty.cpp"</span>
    <span class="operator">]</span>
}</pre>
<a name="how-do-i-make-the-state-of-my-git-repository-available-to-my-source-files"></a>
<h2 id="how-do-i-make-the-state-of-my-git-repository-available-to-my-source-files">How do I make the state of my Git repository available to my source files?</h2>
<p>Add a dependency to the <a href="https://qbs.io
/docs/qml-qbsmodules-vcs/">vcs</a> module to your product:</p>
<pre class="cpp">CppApplication {
    <span class="comment">// ...</span>
    Depends { name: <span class="string">"vcs"</span> }
    <span class="comment">// ...</span>
}</pre>
<p>Your source files will now have access to a macro whose value is a string representing the current Git or Subversion HEAD:</p>
<pre class="cpp"><span class="preprocessor">#include &lt;vcs-repo-state.h&gt;</span>
<span class="preprocessor">#include &lt;iostream&gt;</span>

<span class="type">int</span> main()
{
    std<span class="operator">::</span>cout <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"I was built from "</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> VCS_REPO_STATE <span class="operator">&lt;</span><span class="operator">&lt;</span> std<span class="operator">::</span>endl;
}</pre>
<p>This value is also available via the <a href="https://qbs.io
/docs/qml-qbsmodules-vcs/#repoState-prop">vcs.repoState</a> property.</p>
<a name="how-do-i-limit-the-number-of-concurrent-jobs-for-the-linker-only"></a>
<h2 id="how-do-i-limit-the-number-of-concurrent-jobs-for-the-linker-only">How do I limit the number of concurrent jobs for the linker only?</h2>
<a name="job-pool-howto"></a><p>While it is usually desirable to run as many compiler jobs as there are CPU cores, the same is not true for linker jobs. The reason is that linkers are typically I/O bound rather than CPU bound. When building large libraries, they also tend to use up enormous amounts of memory. Therefore, we'd like to make sure that only a few linkers are running at the same time without limiting other types of jobs. In Qbs, this is achieved via <i>job pools</i>. There are several ways to make use of them.</p>
<p>Firstly, you can provide a limit via the command line:</p>
<pre class="cpp">$ qbs <span class="operator">-</span><span class="operator">-</span>job<span class="operator">-</span>limits linker:<span class="number">4</span></pre>
<p>The above call instructs Qbs to run at most four linker instances at the same time, while leaving the general number of concurrent jobs at the default value, which is derived from the number of CPU cores. The <code>linker</code> string on the command line refers to the job pool of the same name, which the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/#cpp-job-pools">cpp module</a> assigns to all its commands that invoke a linker.</p>
<p>Secondly, you can set a limit via the settings, either generally or for a specific profile:</p>
<pre class="cpp">$ qbs config preferences<span class="operator">.</span>jobLimit<span class="operator">.</span>linker <span class="number">4</span>
$ qbs config profiles<span class="operator">.</span>myprofile<span class="operator">.</span>preferences<span class="operator">.</span>jobLimit<span class="operator">.</span>linker <span class="number">2</span></pre>
<p>And finally, you can also set the limit per project or per product, using a <a href="https://qbs.io
/docs/qml-qbslanguageitems-joblimit/">JobLimit</a> item:</p>
<pre class="cpp">Product {
    name: <span class="string">"my_huge_library"</span>
    JobLimit {
        jobPool: <span class="string">"linker"</span>
        jobCount: <span class="number">1</span>
    }
    <span class="comment">// ...</span>
}</pre>
<p>The above construct ensures that this specific library is never linked at the same time as any other binary in the project.</p>
<p>Job limits set on the command line override those from the settings, which in turn override the ones defined within a project. Use the <code>--enforce-project-job-limits</code> option to give the job limits defined via <code>JobLimit</code> items maximum precedence.</p>
<a name="how-do-i-add-qml-files-to-a-project"></a>
<h2 id="how-do-i-add-qml-files-to-a-project">How do I add QML files to a project?</h2>
<p>The simplest way to add QML files to a project is to add them to a <a href="https://doc.qt.io/qt/resources.html">Qt resource file</a>:</p>
<pre class="cpp"><span class="type"><a href="https://qbs.io
/docs/qml-qbsconvenienceitems-qtguiapplication/">QtGuiApplication</a></span> {
    <span class="comment">// ...</span>

    files: <span class="string">"main.cpp"</span>

    Group {
        prefix: <span class="string">"qml/"</span>
        files: <span class="operator">[</span><span class="string">"main.qml"</span><span class="operator">,</span> <span class="string">"HomePage.qml"</span><span class="operator">]</span>
        fileTags: <span class="operator">[</span><span class="string">"qt.qml.qml"</span><span class="operator">,</span> <span class="string">"qt.core.resource_data"</span><span class="operator">]</span>
    }
}</pre>
<p>In the example above, we declare each QML file as having the <a href="https://qbs.io
/docs/qml-qbsmodules-qt-core/#filetags-qtcore">"qt.core.resource_data"</a> file tag. This ensures that it is added to a generated resource file.</p>
<a name="how-do-i-define-a-reusable-group-of-files-that-can-be-included-in-other-qbs-files"></a>
<h2 id="how-do-i-define-a-reusable-group-of-files-that-can-be-included-in-other-qbs-files">How do I define a reusable Group of files that can be included in other Qbs files?</h2>
<p>Suppose you have an application and tests for that application, and that the project is structured in the following way:</p>
<pre class="cpp plain">├── app
│   ├── app.qbs
│   ├── ...
│   └── qml
│       └── ui
│           ├── AboutPopup.qml
│           └── ...
├── my-project.qbs
└── tests
    ├── tst_app.cpp
    ├── ...
    └── tests.qbs</pre>
<p>Both projects need access to the QML files used by the application. To demonstrate how this can be done, we'll create a file named <code>qml-ui.qbs</code> and put it in the <code>app/qml/ui</code> directory:</p>
<pre class="cpp">Group {
    prefix: path <span class="operator">+</span> <span class="string">"/"</span>
    fileTags: <span class="operator">[</span><span class="string">"qt.qml.qml"</span><span class="operator">,</span> <span class="string">"qt.core.resource_data"</span><span class="operator">]</span>
    files: <span class="operator">[</span>
        <span class="string">"AboutPopup.qml"</span><span class="operator">,</span>
        <span class="comment">// ...</span>
    <span class="operator">]</span>
}</pre>
<p>This Group is a variation of the one in the <a href="https://qbs.io
/docs/howtos/#how-do-i-add-qml-files-to-a-project">section above</a>.</p>
<p>If no prefix is specified, the file names listed in the <code>files</code> property are resolved relative to the <i>importing</i> product's (e.g. <code>app.qbs</code>) directory. For that reason, we set the prefix to inform Qbs that the file names should be resolved relative to the <i>imported</i> item instead: <code>qml-ui.qbs</code>. Conveniently, this also means that we don't need to specify the path prefix for each file.</p>
<p>The application can then import the file like so:</p>
<pre class="cpp">import <span class="string">"qml/ui/qml-ui.qbs"</span> as QmlUiFiles

<span class="type"><a href="https://qbs.io
/docs/qml-qbsconvenienceitems-qtguiapplication/">QtGuiApplication</a></span> {
    <span class="comment">// ...</span>

    files: <span class="string">"main.cpp"</span>

    QmlUiFiles {}
}</pre>
<p>The tests can use a relative path to import the file:</p>
<pre class="cpp">import <span class="string">"../app/qml/ui/qml-ui.qbs"</span> as QmlUiFiles

<span class="type"><a href="https://qbs.io
/docs/qml-qbsconvenienceitems-qtguiapplication/">QtGuiApplication</a></span> {
    <span class="comment">// ...</span>

    files: <span class="string">"tst_app.cpp"</span>

    QmlUiFiles {}
}</pre>
<a name="how-do-i-access-properties-of-a-base-type"></a>
<h2 id="how-do-i-access-properties-of-a-base-type">How do I access properties of a base type?</h2>
<p>You can use the <a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#base">base</a> property. For example, to append to a list of files that come from the base type, you can use <code>base.concat()</code>:</p>
<pre class="cpp"><span class="comment">// TestBase.qbs</span>

<span class="type"><a href="https://qbs.io
/docs/qml-qbsconvenienceitems-qtguiapplication/">QtGuiApplication</a></span> {
    files: <span class="operator">[</span>
        <span class="string">"TestCaseBase.h"</span><span class="operator">,</span>
        <span class="string">"TestCaseBase.cpp"</span>
    <span class="operator">]</span>
}</pre>
<pre class="cpp"><span class="comment">// tst_stuff.qbs</span>
TestBase {
    files: base<span class="operator">.</span>concat(<span class="operator">[</span><span class="string">"tst_stuff.cpp"</span><span class="operator">]</span>)
}</pre>
<p>See <a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#special-property-values">Special Property Values</a> for more details.</p>
<a name="how-do-i-print-the-value-of-a-property"></a>
<h2 id="how-do-i-print-the-value-of-a-property">How do I print the value of a property?</h2>
<p>Use the <a href="https://qbs.io
/docs/jsextensions-general/#console-api">console API</a>. For example, suppose your project is not built the way you expect it to be, and you suspect that <code>qbs.targetOS</code> has the wrong value:</p>
<pre class="cpp">readonly property bool unix: qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"unix"</span>)</pre>
<p>To find out the value of <code>qbs.targetOS</code>, use <code>console.info()</code>:</p>
<pre class="cpp">readonly property bool unix: {
    console<span class="operator">.</span>info(<span class="string">"qbs.targetOS: "</span> <span class="operator">+</span> qbs<span class="operator">.</span>targetOS)
    <span class="keyword">return</span> qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"unix"</span>)
}</pre>
<p>It is also possible to throw an exception with the text saying what is wrong - this might be useful if the property contains invalid or unsupported value:</p>
<pre class="cpp">readonly property bool unix: {
    <span class="keyword">if</span> (qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"darwin"</span>))
        <span class="keyword">throw</span> <span class="string">"Apple platforms are not supported"</span>;
    <span class="keyword">return</span> qbs<span class="operator">.</span>targetOS<span class="operator">.</span>includes(<span class="string">"unix"</span>)
}</pre>
<a name="how-do-i-debug-qbs-scripts"></a>
<h2 id="how-do-i-debug-qbs-scripts">How do I debug Qbs scripts?</h2>
<p>To debug the value of a specific property, see the <a href="https://qbs.io
/docs/howtos/#how-do-i-print-the-value-of-a-property">How do I print the value of a property</a> section.</p>
<p>Similar debugging techniques could be used within <a href="https://qbs.io
/docs/qml-qbslanguageitems-rule/">Rules</a> or <code>.js</code> files.</p>
<p>It is also possible to increase Qbs' logging level using the <code>--more-verbose</code> (<code>-v</code>) option of the <code>qbs build</code> command:</p>
<pre class="cpp">qbs build <span class="operator">-</span>v config:release</pre>
<p>Qbs uses the Qt Categorized Logging system which allows to configure logging categories in <a href="https://doc.qt.io/qt-5/qloggingcategory.html#configuring-categories">multiple ways</a>. For example, to enable debug logging for the <code>moduleloader</code> category, use the following command:</p>
<pre class="cpp">QT_LOGGING_RULES<span class="operator">=</span><span class="string">"qbs.moduleloader.debug=true"</span> qbs resolve</pre>
<p>To list all the files in the project directory and show whether they are known to qbs in the respective configuration, use the <code>qbs status</code> command:</p>
<pre class="cpp">qbs status config:release</pre>
<a name="how-do-i-sign-an-application-for-an-apple-platform"></a>
<h2 id="how-do-i-sign-an-application-for-an-apple-platform">How do I sign an application for an Apple platform?</h2>
<p>To sign an application for an Apple platform, you need to use the <a href="https://qbs.io
/docs/qml-qbsmodules-codesign/">codesign</a> module.</p>
<pre class="cpp">Depends { name: <span class="string">"codesign"</span> }</pre>
<p>Several properties should be set to do signing as shown below.</p>
<p>Make sure that bundle and team indentifiers match the one used for signing:</p>
<pre class="cpp">bundle<span class="operator">.</span>identifierPrefix: <span class="string">"com.johndoe"</span>
codesign<span class="operator">.</span>teamIdentifier: <span class="string">"John Doe"</span></pre>
<p>It is also possible to use an ID of the team identifier instead of a name:</p>
<pre class="cpp">codesign<span class="operator">.</span>teamIdentifier: <span class="string">"1234ABCDEF"</span></pre>
<p>Qbs will then try to find the matching signing identity and provisioning profile based on <a href="https://qbs.io
/docs/qml-qbsmodules-codesign/#signingType-prop">codesign.signingType</a>.</p>
<p>It is also possible to specify <a href="https://qbs.io
/docs/qml-qbsmodules-codesign/#signingIdentity-prop">codesign.signingIdentity</a> manually:</p>
<pre class="cpp">codesign<span class="operator">.</span>signingIdentity: <span class="string">"Apple Development: johndoe@apple.com (ABCDEF1234)"</span></pre>
<p>It is also possible to use an ID of the signing identity instead of a name:</p>
<pre class="cpp">codesign<span class="operator">.</span>signingIdentity: <span class="string">"ABCDEF1234567890ABCDEF1234567890ABCDEF12"</span></pre>
<p>If Qbs cannot find the suitable provisioning profile, you can specify it manually as well:</p>
<pre class="cpp">codesign<span class="operator">.</span>provisioningProfile: <span class="string">"abcdef12-1234-5678-1111-abcdef123456"</span></pre>
</div>
<!-- @@@howtos.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="https://qbs.io
/docs/custom-modules/">Custom Modules and Items</a>
<a class="nextPage" href="https://qbs.io
/docs/reference/">Reference</a>
</p>
</div>


    </article>
</div>

        </main></body>
</html>
