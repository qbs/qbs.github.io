<!DOCTYPE html>
<html lang="en-us" class="bg-white dark:bg-gray-700 font-display text-black dark:text-white"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>Qbs</title>
    <meta name="description" content="Qbs Manual Qbs 1.22.0 Contents  Properties Detailed Description Examples Including Files Generated by Conan Setting Module Properties in Products Setting Up a Profile    ConanfileProbe QML Type  Extracts information about dependencies from a Conan recipe file. More...
Import Statement:import QbsProbes . List of all members, including inherited members   Properties  additionalArguments : stringList conanfilePath : path dependencies : var executable : path generatedFilesPath : path generators : stringList json : var options : var packageReference : string settings : var verbose : var   Detailed Description The ConanfileProbe interfaces Qbs to the Conan package manager. ">
    <link rel="canonical" href="https://qbs.io/docs/qml-qbsprobes-conanfileprobe/" />

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    

    
      
      <link rel="stylesheet" href="/css/main.min.7d27557bc1f8660bf0e026622019467fd286c7d3eb71497bb1bf1eb961a1697a.css" integrity="sha256-fSdVe8H4Zgvw4CZiIBlGf9KGx9PrcUl7sb8euWGhaXo="/>
    

    <meta property="og:title" content="" />
<meta property="og:description" content="Qbs Manual Qbs 1.22.0 Contents  Properties Detailed Description Examples Including Files Generated by Conan Setting Module Properties in Products Setting Up a Profile    ConanfileProbe QML Type  Extracts information about dependencies from a Conan recipe file. More...
Import Statement:import QbsProbes . List of all members, including inherited members   Properties  additionalArguments : stringList conanfilePath : path dependencies : var executable : path generatedFilesPath : path generators : stringList json : var options : var packageReference : string settings : var verbose : var   Detailed Description The ConanfileProbe interfaces Qbs to the Conan package manager." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://qbs.io/docs/qml-qbsprobes-conanfileprobe/" /><meta property="article:section" content="docs" />




    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Qbs Manual Qbs 1.22.0 Contents  Properties Detailed Description Examples Including Files Generated by Conan Setting Module Properties in Products Setting Up a Profile    ConanfileProbe QML Type  Extracts information about dependencies from a Conan recipe file. More...
Import Statement:import QbsProbes . List of all members, including inherited members   Properties  additionalArguments : stringList conanfilePath : path dependencies : var executable : path generatedFilesPath : path generators : stringList json : var options : var packageReference : string settings : var verbose : var   Detailed Description The ConanfileProbe interfaces Qbs to the Conan package manager."/>

</head>
<body><header class="sticky flex flex-col md:flex-row items-center justify-between top-0 left-0 right-0 bg-white dark:bg-gray-700 dark:border-gray-800 p-4 border-b z-10">
    <a class="flex items-center" href="/">
        <img src="https://qbs.io/img/Cubes.svg" class="h-10 effect-shadow-small">
        <h1 class="font-medium pl-2 text-2xl">Qbs</h1>
    </a>

    <div>
        
        <a href="/blog" class="ml-2">
            <span>Blog</span>
        </a>
        
        <a href="/docs" class="ml-2">
            <span>Documentation</span>
        </a>
        
        <a href="/docs/installing/" class="ml-2">
            <span>Get Qbs</span>
        </a>
        
    </div>
</header><main>
<div class="centre-outer">
    <article class="centre-inner docs">
    
<li><a href="https://qbs.io
/docs">Qbs Manual</a></li>
<li id="buildversion">Qbs 1.22.0</li>
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#examples">Examples</a></li>
<li class="level3"><a href="#including-files-generated-by-conan">Including Files Generated by Conan</a></li>
<li class="level3"><a href="#setting-module-properties-in-products">Setting Module Properties in Products</a></li>
<li class="level3"><a href="#setting-up-a-profile">Setting Up a Profile</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<div class="content"><h1 class="title">ConanfileProbe QML Type</h1>
<span class="subtitle"></span>
<!-- $$$ConanfileProbe-brief -->
<p>Extracts information about dependencies from a Conan recipe file. <a href="#details">More...</a></p>
<!-- @@@ConanfileProbe -->
<div class="table"><table class="alignedsummary">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QbsProbes .</td></tr></tbody></table></div><ul>
<li><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe-members/">List of all members, including inherited members</a></li>
</ul>
<a name="properties"></a>
<h2 id="properties">Properties</h2>
<ul>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#additionalArguments-prop">additionalArguments</a></b></b> : stringList</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#conanfilePath-prop">conanfilePath</a></b></b> : path</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#dependencies-prop">dependencies</a></b></b> : var</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#executable-prop">executable</a></b></b> : path</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#generatedFilesPath-prop">generatedFilesPath</a></b></b> : path</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#generators-prop">generators</a></b></b> : stringList</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#json-prop">json</a></b></b> : var</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#options-prop">options</a></b></b> : var</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#packageReference-prop">packageReference</a></b></b> : string</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#settings-prop">settings</a></b></b> : var</li>
<li class="fn"><b><b><a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#verbose-prop">verbose</a></b></b> : var</li>
</ul>
<!-- $$$ConanfileProbe-description -->
<a name="details"></a>
<h2 id="details">Detailed Description</h2>
<p>The <code>ConanfileProbe</code> interfaces Qbs to the <a href="https://conan.io/">Conan package manager</a>. It runs <a href="https://docs.conan.io/en/latest/reference/commands/consumer/install.html">conan install</a> on a Conan recipe file such as <code>conanfile.py</code> or <code>conanfile.txt</code> and extracts all available meta information about package dependencies using the <a href="https://docs.conan.io/en/latest/reference/generators/json.html">json generator</a>. The output may be used to set up <a href="https://qbs.io
/docs/qml-qbslanguageitems-profile/">Profile</a> items or module properties in products. <code>ConanfileProbe</code> can also be used to run other Conan generators and to retrieve their output.</p>
<a name="examples"></a>
<h2 id="examples">Examples</h2>
<p>In the following examples we assume that our project contains a <code>conanfile.py</code>. This file describes all dependencies of our project. The dependency packages are expected to export meta information to be consumed by our project.</p>
<a name="including-files-generated-by-conan"></a>
<h3 id="including-files-generated-by-conan">Including Files Generated by Conan</h3>
<p>Conan has a built-in <a href="https://docs.conan.io/en/latest/reference/generators/qbs.html">qbs generator</a> that creates a project file containing dummy products. This is the easiest way to access dependencies, but also the least flexible one. It requires each Conan package to export correct meta information and works only if the dependency is a library.</p>
<pre class="qml">import qbs.Probes

<span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-project/">Project</a></span> {
    <span class="type">Probes</span>.ConanfileProbe {
        <span class="name">id</span>: <span class="name">conan</span>
        <span class="name">conanfilePath</span>: <span class="name">project</span>.<span class="name">sourceDirectory</span> <span class="operator">+</span> <span class="string">"/conanfile.py"</span>
        <span class="name">generators</span>: <span class="string">"qbs"</span>
    }

    <span class="name">references</span>: <span class="name">conan</span>.<span class="name">generatedFilesPath</span> <span class="operator">+</span> <span class="string">"/conanbuildinfo.qbs"</span>

    <span class="type"><a href="https://qbs.io
/docs/qml-qbsconvenienceitems-cppapplication/">CppApplication</a></span> {
        <span class="name">type</span>: <span class="string">"application"</span>
        <span class="name">files</span>: <span class="string">"main.cpp"</span>
        <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/">Depends</a></span> { <span class="name">name</span>: <span class="string">"mylib"</span> }
    }
}</pre>
<a name="setting-module-properties-in-products"></a>
<h3 id="setting-module-properties-in-products">Setting Module Properties in Products</h3>
<p>When a product depends on a Conan package that does not have a dedicated <a href="https://qbs.io
/docs/qbsmodules-qmlmodule/">module</a>, package meta information may be directly fed into the <a href="https://qbs.io
/docs/qml-qbsmodules-cpp/">cpp</a> module.</p>
<p>This approach is very flexible.</p>
<pre class="qml">import qbs.Probes

CppApplication {
    Probes.ConanfileProbe {
        id: conan
        conanfilePath: product.sourceDirectory + "/conanfile.py"
        options: ({opt1: "True"; opt2: "TheValue"})
    }
    cpp.includePaths: conan.dependencies["myLib"].include_paths
    cpp.libraryPaths: conan.dependencies["myLib"].lib_paths
    cpp.dynamicLibraries: conan.dependencies["mylib"].libs
}</pre>
<a name="setting-up-a-profile"></a>
<h3 id="setting-up-a-profile">Setting Up a Profile</h3>
<p>When multiple products depend on one or more Conan packages, the dependency information may be combined in a <a href="https://qbs.io
/docs/qml-qbslanguageitems-profile/">Profile</a>. This is especially useful when Qbs modules are available for some of the packages, but some of their properties need to be initialized. Otherwise, it would have to be done manually in global profiles.</p>
<pre class="qml">import qbs.Probes

<span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-project/">Project</a></span> {
    <span class="type">Probes</span>.ConanfileProbe {
        <span class="name">id</span>: <span class="name">conan</span>
        <span class="name">conanfilePath</span>: <span class="name">project</span>.<span class="name">sourceDirectory</span> <span class="operator">+</span> <span class="string">"/conanfile.py"</span>
    }
    <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-profile/">Profile</a></span> {
        <span class="name">name</span>: <span class="string">"arm-gcc"</span>
        <span class="name">cpp</span>.toolchainInstallPath: <span class="name">conan</span>.<span class="name">dependencies</span>[<span class="string">"arm-none-eabi-gcc"</span>].<span class="name">rootpath</span> <span class="operator">+</span> <span class="string">"/bin"</span>
        <span class="name">cpp</span>.toolchainPrefix: <span class="string">"arm-linux-gnueabi-"</span>
        <span class="name">qbs</span>.toolchainType: <span class="string">"gcc"</span>
    }
}</pre>
<p>This allows fully automated dependency management, including compiler toolchains and is very useful when teams work in heterougeneous environments.</p>
<!-- @@@ConanfileProbe -->
<h2>Property Documentation</h2>
<!-- $$$additionalArguments -->
<div class="qmlitem"><h3 class="qmlproto">additionalArguments: stringList</h3>
<div class="qmldoc"><p>Additional command line arguments that are appended to the <code>conan install</code> command.</p>
<p>Default: []</p>
</div></div><!-- @@@additionalArguments -->
<br>
<!-- $$$conanfilePath -->
<div class="qmlitem"><h3 class="qmlproto">conanfilePath: path</h3>
<div class="qmldoc"><p>Path to a <code>conanfile.py</code> or <code>conanfile.txt</code> that is used by this probe.</p>
<p>This property cannot be set at the same time as <a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#packageReference-prop">packageReference</a>.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@conanfilePath -->
<br>
<!-- $$$dependencies -->
<div class="qmlitem"><h3 class="qmlproto"><span class="opacity-50">readonly </span>dependencies: var</h3>
<div class="qmldoc"><p>This property contains the same information as <a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#json-prop">json</a>.dependencies, but instead of an array, <code>dependencies</code> is a map with package names as keys for convenient access.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@dependencies -->
<br>
<!-- $$$executable -->
<div class="qmlitem"><h3 class="qmlproto">executable: path</h3>
<div class="qmldoc"><p>The name of or the path to the Conan executable.</p>
<p>Default: "conan.exe" on Windows, "conan" otherwise</p>
</div></div><!-- @@@executable -->
<br>
<!-- $$$generatedFilesPath -->
<div class="qmlitem"><h3 class="qmlproto"><span class="opacity-50">readonly </span>generatedFilesPath: path</h3>
<div class="qmldoc"><p>The path of the folder where Conan generators store their files. Each instance of this probe creates a unique folder under <a href="https://qbs.io
/docs/qml-qbslanguageitems-project/#buildDirectory-prop">Project.buildDirectory</a>. The folder name is a hash of the arguments supplied to <code>conan install</code>.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@generatedFilesPath -->
<br>
<!-- $$$generators -->
<div class="qmlitem"><h3 class="qmlproto">generators: stringList</h3>
<div class="qmldoc"><p>Conan generators to be executed by this probe. The <a href="https://docs.conan.io/en/latest/reference/generators/json.html">JSON generator</a> is always enabled. Generated files are written to the <a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#generatedFilesPath-prop">generatedFilesPath</a> folder.</p>
<p>Default: ["json"]</p>
<p><b>See also </b><a href="https://docs.conan.io/en/latest/reference/generators.html">Available generators</a>.</p>
</div></div><!-- @@@generators -->
<br>
<!-- $$$json -->
<div class="qmlitem"><h3 class="qmlproto"><span class="opacity-50">readonly </span>json: var</h3>
<div class="qmldoc"><p>The parsed output of Conan's <a href="https://docs.conan.io/en/latest/reference/generators/json.html">JSON generator</a> as a JavaScript object.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@json -->
<br>
<!-- $$$options -->
<div class="qmlitem"><h3 class="qmlproto">options: var</h3>
<div class="qmldoc"><p>Options applied to <code>conan install</code> via the <code>-o</code> flag. This property is an object in the form <code>key:value</code>.</p>
<p>Example:</p>
<pre class="qml">options: ({someOpt: "True", someOtherOpt: "TheValue"})</pre>
<p>Default: Undefined</p>
</div></div><!-- @@@options -->
<br>
<!-- $$$packageReference -->
<div class="qmlitem"><h3 class="qmlproto">packageReference: string</h3>
<div class="qmldoc"><p>Reference of a Conan package in the form <code>name/version@user/channel</code>. Use this property if you want to probe an existing package in the local cache or on a remote.</p>
<p>This property cannot be set at the same time as <a href="https://qbs.io
/docs/qml-qbsprobes-conanfileprobe/#conanfilePath-prop">conanfilePath</a>.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@packageReference -->
<br>
<!-- $$$settings -->
<div class="qmlitem"><h3 class="qmlproto">settings: var</h3>
<div class="qmldoc"><p>Settings applied to <code>conan install</code> via the <code>-s</code> flag. This property is an object in the form <code>key:value</code>.</p>
<p>Example:</p>
<pre class="qml">settings: ({os: "Linux", compiler: "gcc"})</pre>
<p>Default: Undefined</p>
</div></div><!-- @@@settings -->
<br>
<!-- $$$verbose -->
<div class="qmlitem"><h3 class="qmlproto">verbose: var</h3>
<div class="qmldoc"><p>Set to <code>true</code> to print all output of `conan install`. If this property is <code>false</code> only error output will be printed.</p>
<p>Default: <code>false</code></p>
</div></div><!-- @@@verbose -->
<br>
</div>


    </article>
</div>

        </main></body>
</html>
