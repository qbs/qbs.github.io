<!DOCTYPE html>
<html lang="en-us" class="bg-white dark:bg-gray-700 font-display text-black dark:text-white"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <title>Qbs</title>
    <meta name="description" content="Qbs Manual QbsLanguageItems Module Qbs 2.1.1 JobLimit ModuleProvider Contents Properties Detailed Description Accessing Product and Module Properties Accessing Properties of the Current Module Properties of the Dependent Modules Accessing Properties of the Dependent Product Special Property Values Dependency Parameters Module QML Type Represents a collection of properties and items that can be loaded into a product. More...
Import Statement: import QbsLanguageItems List of all members, including inherited members Module is part of List of All Items. ">
    <link rel="canonical" href="https://qbs.io/docs/qml-qbslanguageitems-module/" />

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    

    
      
      <link rel="stylesheet" href="/css/main.min.7d27557bc1f8660bf0e026622019467fd286c7d3eb71497bb1bf1eb961a1697a.css" integrity="sha256-fSdVe8H4Zgvw4CZiIBlGf9KGx9PrcUl7sb8euWGhaXo="/>
    

    <meta property="og:title" content="" />
<meta property="og:description" content="Qbs Manual QbsLanguageItems Module Qbs 2.1.1 JobLimit ModuleProvider Contents Properties Detailed Description Accessing Product and Module Properties Accessing Properties of the Current Module Properties of the Dependent Modules Accessing Properties of the Dependent Product Special Property Values Dependency Parameters Module QML Type Represents a collection of properties and items that can be loaded into a product. More...
Import Statement: import QbsLanguageItems List of all members, including inherited members Module is part of List of All Items." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://qbs.io/docs/qml-qbslanguageitems-module/" /><meta property="article:section" content="docs" />



    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Qbs Manual QbsLanguageItems Module Qbs 2.1.1 JobLimit ModuleProvider Contents Properties Detailed Description Accessing Product and Module Properties Accessing Properties of the Current Module Properties of the Dependent Modules Accessing Properties of the Dependent Product Special Property Values Dependency Parameters Module QML Type Represents a collection of properties and items that can be loaded into a product. More...
Import Statement: import QbsLanguageItems List of all members, including inherited members Module is part of List of All Items."/>

</head>
<body><header class="sticky flex flex-col md:flex-row items-center justify-between top-0 left-0 right-0 bg-white dark:bg-gray-700 dark:border-gray-800 p-4 border-b z-10">
    <a class="flex items-center" href="/">
        <img src="https://qbs.io/img/Cubes.svg" class="h-10 effect-shadow-small">
        <h1 class="font-medium pl-2 text-2xl">Qbs</h1>
    </a>

    <div>
        
        <a href="/blog" class="ml-2">
            <span>Blog</span>
        </a>
        
        <a href="/docs" class="ml-2">
            <span>Documentation</span>
        </a>
        
        <a href="/docs/installing/" class="ml-2">
            <span>Get Qbs</span>
        </a>
        
    </div>
</header><main>
<div class="centre-outer">
    <article class="centre-inner docs">
    
<li><a href="https://qbs.io
/docs" translate="no">Qbs Manual</a></li>
<li><a href="https://qbs.io
/docs/qbslanguageitems-qmlmodule/" translate="no">QbsLanguageItems</a></li>
<li>Module</li>
<li id="buildversion">Qbs 2.1.1</li>
  <link rel="prev" href="https://qbs.io
/docs/qml-qbslanguageitems-joblimit/">
  <link rel="next" href="https://qbs.io
/docs/qml-qbslanguageitems-moduleprovider/">
<p class="naviNextPrevious headerNavi">
<a class="prevPage" href="https://qbs.io
/docs/qml-qbslanguageitems-joblimit/">JobLimit</a>
<a class="nextPage" href="https://qbs.io
/docs/qml-qbslanguageitems-moduleprovider/">ModuleProvider</a>
</p>
<div class="sidebar">
<div class="toc">
<h3 id="toc">Contents</h3>
<ul>
<li class="level1"><a href="#properties">Properties</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#accessing-product-and-module-properties">Accessing Product and Module Properties</a></li>
<li class="level3"><a href="#accessing-properties-of-the-current-module">Accessing Properties of the Current Module</a></li>
<li class="level3"><a href="#properties-of-the-dependent-modules">Properties of the Dependent Modules</a></li>
<li class="level3"><a href="#accessing-properties-of-the-dependent-product">Accessing Properties of the Dependent Product</a></li>
<li class="level3"><a href="#special-property-values">Special Property Values</a></li>
<li class="level2"><a href="#dependency-parameters">Dependency Parameters</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<div class="content"><h1 class="title" translate="no">Module QML Type</h1>
<!-- $$$Module-brief -->
<p>Represents a collection of properties and items that can be loaded into a product. <a href="#details">More...</a></p>
<!-- @@@Module -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QbsLanguageItems</td></tr></tbody></table></div><ul>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-module-members/">List of all members, including inherited members</a></li>
<li>Module is part of <a href="https://qbs.io
/docs/list-of-items/">List of All Items</a>.</li>
</ul>
<h2 id="properties">Properties</h2>
<ul>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#additionalProductTypes-prop" translate="no">additionalProductTypes</a></b> : stringList</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#condition-prop" translate="no">condition</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#present-prop" translate="no">present</a></b> : bool</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#priority-prop" translate="no">priority</a></b> : int</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#setupBuildEnvironment-prop" translate="no">setupBuildEnvironment</a></b> : script</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#setupRunEnvironment-prop" translate="no">setupRunEnvironment</a></b> : script</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#validate-prop" translate="no">validate</a></b> : script</li>
<li class="fn" translate="no"><b><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/#version-prop" translate="no">version</a></b> : string</li>
</ul>
<!-- $$$Module-description -->
<h2 id="details">Detailed Description</h2>
<p>A Module item is a collection of properties and language items. It contributes to building a product if the product has a <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">dependency</a> on the module. Modules may contain the following items:</p>
<ul>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-filetagger/" translate="no">FileTagger</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-group/" translate="no">Group</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-joblimit/" translate="no">JobLimit</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-parameter/" translate="no">Parameter</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-probe/" translate="no">Probe</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-propertyoptions/" translate="no">PropertyOptions</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-rule/" translate="no">Rule</a></li>
<li><a href="https://qbs.io
/docs/qml-qbslanguageitems-scanner/" translate="no">Scanner</a></li>
</ul>
<p>When a product expresses a dependency on a module, Qbs will create an instance of the module item in the scope of the product. The product can then read and write properties from and to the loaded module, respectively.</p>
<p>Modules in different products are isolated from each other, just as products cannot access each other's properties. However, products can use the <a href="https://qbs.io
/docs/qml-qbslanguageitems-export/" translate="no">Export</a> item to pass dependencies and properties of modules to other dependent products.</p>
<p>The following (somewhat artificial) module pre-processes text files by removing certain characters from them. The module's name is <code translate="no">txt_processor</code>.</p>
<pre class="qml" translate="no">import qbs.FileInfo
import qbs.TextFile

<span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/" translate="no">Module</a></span> {
    property <span class="type">stringList</span> <span class="name">unwantedCharacters</span>: []

    <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-filetagger/" translate="no">FileTagger</a></span> {
        <span class="name">patterns</span>: [<span class="string">"*.raw"</span>]
        <span class="name">fileTags</span>: [<span class="string">"raw-txt"</span>]
    }

    <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-rule/" translate="no">Rule</a></span> {
        <span class="name">inputs</span>: [<span class="string">"raw-txt"</span>]

        <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-artifact/" translate="no">Artifact</a></span> {
            <span class="name">filePath</span>: <span class="name">FileInfo</span>.<span class="name">relativePath</span>(<span class="name">input</span>.<span class="name">filePath</span>, <span class="name">product</span>.<span class="name">sourceDirectory</span>) <span class="operator">+</span>
                       <span class="string">"/"</span> <span class="operator">+</span> <span class="name">input</span>.<span class="name">fileName</span> <span class="operator">+</span> <span class="string">".processed"</span>
            <span class="name">fileTags</span>: [<span class="string">"processed-txt"</span>]
        }

        <span class="name">prepare</span>: {
            var cmd = new <span class="name">JavaScriptCommand</span>();
            <span class="name">cmd</span>.<span class="name">description</span> <span class="operator">=</span> <span class="string">"Processing "</span> <span class="operator">+</span> <span class="name">input</span>.<span class="name">fileName</span>;
            <span class="name">cmd</span>.<span class="name">sourceCode</span> <span class="operator">=</span> <span class="keyword">function</span>() {
                var inFile = new <span class="name">TextFile</span>(<span class="name">input</span>.<span class="name">filePath</span>, <span class="name">TextFile</span>.<span class="name">ReadOnly</span>);
                var content = <span class="name">inFile</span>.<span class="name">readAll</span>();
                <span class="name">inFile</span>.<span class="name">close</span>();
                var unwantedChars = <span class="name">input</span>.<span class="name">txt_processor</span>.<span class="name">unwantedCharacters</span>;
                <span class="keyword">for</span> (var c in <span class="name">unwantedChars</span>)
                    <span class="name">content</span> <span class="operator">=</span> <span class="name">content</span>.<span class="name">replace</span>(<span class="name">unwantedChars</span>[<span class="name">c</span>], <span class="string">""</span>);
                var outFile = new <span class="name">TextFile</span>(<span class="name">output</span>.<span class="name">filePath</span>, <span class="name">TextFile</span>.<span class="name">WriteOnly</span>);
                <span class="name">outFile</span>.<span class="name">write</span>(<span class="name">content</span>);
                <span class="name">outFile</span>.<span class="name">close</span>();
            };
            <span class="keyword">return</span> <span class="name">cmd</span>;
        }
    }
}</pre>
<p>And this is how a <a href="https://qbs.io
/docs/qml-qbslanguageitems-product/" translate="no">Product</a> would use the module:</p>
<pre class="qml" translate="no"><span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-product/" translate="no">Product</a></span> {
    <span class="name">type</span>: <span class="string">"processed-txt"</span>
    <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a></span> { <span class="name">name</span>: <span class="string">"txt_processor"</span> }
    <span class="name">txt_processor</span>.unwantedCharacters: [<span class="string">"\r"</span>]
    <span class="name">files</span>: [
        <span class="string">"file1.raw"</span>,
        <span class="string">"file2.raw"</span>
    ]
}</pre>
<p>The resulting files are tagged with <code translate="no">processed-txt</code> and might be consumed by a rule in another module. That is possible if another rule has <code translate="no">processed-txt</code> in its <a href="https://qbs.io
/docs/qml-qbslanguageitems-rule/#inputs-prop" translate="no">inputs</a> property.</p>
<p>For more information about how you make your own modules available to Qbs, see <a href="https://qbs.io
/docs/custom-modules/" translate="no">Custom Modules and Items</a>.</p>
<h2 id="accessing-product-and-module-properties">Accessing Product and Module Properties</h2>
<p>When defining a property in a module item, the right-hand side expression is a binding. Bindings may reference other properties of:</p>
<ul>
<li>the current module</li>
<li>other modules that this module depends on</li>
<li>the dependent product</li>
</ul>
<p>Please note that this applies to bindings in modules only. Property access in rules and other nested items is different.</p>
<h3 id="accessing-properties-of-the-current-module">Accessing Properties of the Current Module</h3>
<p>Sibling properties in the same module can be accessed directly by their name:</p>
<pre class="qml" translate="no"><span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/" translate="no">Module</a></span> {
    property <span class="type">stringList</span> <span class="name">windowsDefaults</span>: [<span class="string">"\r"</span>]
    property <span class="type">stringList</span> <span class="name">unwantedCharacters</span>: <span class="name">windowsDefaults</span>
}</pre>
<h3 id="properties-of-the-dependent-modules">Properties of the Dependent Modules</h3>
<p>When a module loads another module through a <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a> element, it can access properties of the other module through its name. Assuming there was a module <code translate="no">OtherModule</code> with a property <code translate="no">otherProperty</code>, such an access would look like this:</p>
<pre class="qml" translate="no"><span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/" translate="no">Module</a></span> {
    <span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a></span> { <span class="name">name</span>: <span class="string">"OtherModule"</span> }
    property <span class="type">string</span> <span class="name">myProperty</span>: <span class="string">"something-"</span> <span class="operator">+</span> <span class="name">OtherModule</span>.<span class="name">otherProperty</span>
}</pre>
<h3 id="accessing-properties-of-the-dependent-product">Accessing Properties of the Dependent Product</h3>
<pre class="qml" translate="no"><span class="type"><a href="https://qbs.io
/docs/qml-qbslanguageitems-module/" translate="no">Module</a></span> {
    property <span class="type">bool</span> <span class="name">featureEnabled</span>:
            (<span class="name">product</span>.<span class="name">type</span>.<span class="name">includes</span>(<span class="string">"application"</span>)) ?  <span class="number">true</span> : <span class="number">false</span>
}</pre>
<h3 id="special-property-values">Special Property Values</h3>
<p>For every property defined in a module, Qbs provides the special <a href="https://qbs.io
/docs/special-property-values/#original" translate="no">original</a> value containing the value of the property in the module itself (possibly overridden from a profile).</p>
<h2 id="dependency-parameters">Dependency Parameters</h2>
<p>Modules can declare dependency parameters. Those parameters can be set within <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a> items. <a href="https://qbs.io
/docs/qml-qbslanguageitems-rule/" translate="no">Rules</a> of the module can read the parameters of dependencies and act accordingly.</p>
<p>In the following example, the module <i>foo</i> declares the parameter <code translate="no">ignore</code>. A dependency to <code translate="no">bar</code> then sets the parameter <code translate="no">foo.ignore</code> to <code translate="no">true</code>. A rule in <code translate="no">foo</code> ignores all dependencies that have <code translate="no">foo.ignore</code> set to true.</p>
<pre class="cpp" translate="no">Module {    <span class="comment">// Definition of module 'foo'.</span>
    Parameter { property <span class="type">bool</span> ignore }
    Rule {
        <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
        prepare: {
            <span class="keyword">for</span> (i in product<span class="operator">.</span>dependencies) {
                var dep <span class="operator">=</span> product<span class="operator">.</span>dependencies<span class="operator">[</span>i<span class="operator">]</span>;
                <span class="keyword">if</span> (dep<span class="operator">.</span>foo<span class="operator">.</span>ignore)
                    <span class="keyword">continue</span>;
                <span class="comment">// Do something with the dependency.</span>
            }
        }
    }
    <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
}
<span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span><span class="operator">-</span>
Product {
    Depends { name: <span class="string">"foo"</span> }
    Depends { name: <span class="string">"bar"</span>; foo<span class="operator">.</span>ignore: <span class="keyword">true</span> }
}</pre>
<!-- @@@Module -->
<h2>Property Documentation</h2>
<!-- $$$additionalProductTypes -->
<div class="qmlitem"><h3 class="qmlproto">additionalProductTypes: stringList</h3>
<div class="qmldoc"><p>A list of elements that will be added to the <a href="https://qbs.io
/docs/qml-qbslanguageitems-product/#type-prop" translate="no">type</a> property of a product that has a dependency on the module.</p>
<p>Default: <code translate="no">[]</code></p>
</div></div><!-- @@@additionalProductTypes -->
<br>
<!-- $$$condition -->
<div class="qmlitem"><h3 class="qmlproto">condition: bool</h3>
<div class="qmldoc"><p>Whether the module is enabled. If this property is <code translate="no">false</code>, the surrounding Module item will not be considered in the module look-up.</p>
<p>Default: <code translate="no">true</code></p>
</div></div><!-- @@@condition -->
<br>
<!-- $$$present -->
<div class="qmlitem"><h3 class="qmlproto">present: bool</h3>
<div class="qmldoc"><p>This property is <code translate="no">false</code> if and only if the respective <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a> item had its <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/#required-prop" translate="no">required</a> property set to <code translate="no">false</code> and the module was not found.</p>
<p>Default: <code translate="no">true</code></p>
</div></div><!-- @@@present -->
<br>
<!-- $$$priority -->
<div class="qmlitem"><h3 class="qmlproto">priority: int</h3>
<div class="qmldoc"><p>The priority of this module instance. If there is more than one module instance available for a module name, the module with the highest priority is chosen.</p>
<p>Default: 0</p>
</div></div><!-- @@@priority -->
<br>
<!-- $$$setupBuildEnvironment -->
<div class="qmlitem"><h3 class="qmlproto">setupBuildEnvironment: script</h3>
<div class="qmldoc"><p>A script for setting up the environment in which a product is built.</p>
<p>The code in this script is treated as a function with the signature <code translate="no">function(project, product)</code>.</p>
<p>Use the <a href="https://qbs.io
/docs/jsextension-environment/" translate="no">Environment</a> functions to alter the environment.</p>
<p>The return value of this script is ignored.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@setupBuildEnvironment -->
<br>
<!-- $$$setupRunEnvironment -->
<div class="qmlitem"><h3 class="qmlproto">setupRunEnvironment: script</h3>
<div class="qmldoc"><p>A script for setting up the environment in which a product is run.</p>
<p>The code in this script is treated as a function with the signature <code translate="no">function(project, product, config)</code>.</p>
<p>The <code translate="no">config</code> parameter is a list of arbitrary strings that can be passed via the <a href="https://qbs.io
/docs/cli-run/" translate="no">run</a> command. The values supported by specific modules are listed in their respective documentation.</p>
<p>Use the <a href="https://qbs.io
/docs/jsextension-environment/" translate="no">Environment</a> functions to alter the environment.</p>
<p>The return value of this script is ignored.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@setupRunEnvironment -->
<br>
<!-- $$$validate -->
<div class="qmlitem"><h3 class="qmlproto">validate: script</h3>
<div class="qmldoc"><p>A script that is run after the module is loaded. It can be used to check property values and throw errors in unexpected cases. The return value is ignored.</p>
<p>Default: Undefined</p>
</div></div><!-- @@@validate -->
<br>
<!-- $$$version -->
<div class="qmlitem"><h3 class="qmlproto">version: string</h3>
<div class="qmldoc"><p>The module's version. It consists of integer values separated by dots. You can check for specific values of this property in a <a href="https://qbs.io
/docs/qml-qbslanguageitems-depends/" translate="no">Depends</a> item.</p>
</div></div><!-- @@@version -->
<br>
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="https://qbs.io
/docs/qml-qbslanguageitems-joblimit/">JobLimit</a>
<a class="nextPage" href="https://qbs.io
/docs/qml-qbslanguageitems-moduleprovider/">ModuleProvider</a>
</p>
</div>


    </article>
</div>

        </main></body>
</html>
